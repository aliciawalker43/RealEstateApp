<!-- navbar.html -->

<nav th:fragment="navbar"
     class="navbar navbar-expand-lg shadow-sm"
     style="background: var(--nav-bg);">

  <!-- THEME VARIABLES -->
  <style>
    :root {
      --brand-primary: [[${company != null and company.primaryColor != null
          ? company.primaryColor
          : '#2563eb'}]];

      --brand-gradient: linear-gradient(#f5f5f5, var(--brand-primary));
      --brand-soft: color-mix(in srgb, var(--brand-primary) 20%, white);
      --brand-border: color-mix(in srgb, var(--brand-primary) 70%, black);

      --nav-bg: var(--brand-gradient);
      --nav-text: #ffffff;
    }
  </style>

  <div class="container-fluid">

    <!-- Logo + Brand -->
    <a class="navbar-brand d-flex align-items-center gap-2"
       th:href="@{/}"
       style="color: var(--nav-text);">
<div class="navbar-logo">
      <img th:src="${company != null and company.logoUrl != null
            ? company.logoUrl + '?v=' + #strings.randomAlphanumeric(8)
            : '/images/company-logo-placeholder.png'}"
           alt="Company Logo"/>
           
</div>
      <span class="fw-semibold"
            th:text="${company != null ? company.name : 'Property Manager'}">
        Property Manager
      </span>
    </a>

    <!-- Right actions -->
    <a th:if="${currentUser != null}"
       th:href="@{/logout}"
       class="btn btn-sm"
       style="background: var(--brand-primary); color:#fff;">
      Logout
    </a>

  </div>
</nav>

