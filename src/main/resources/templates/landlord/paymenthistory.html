<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
	  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <title>Payment History</title>
	<link rel="stylesheet" th:href="@{/css/saas-dashboard.css}">
	<link rel="stylesheet" th:href="@{/css/company-theme.css}">
</head>
<body>
<th:block th:replace="~{fragments/navbar :: navbar}"></th:block>
<th:block th:replace="~{fragments/company-sidebar :: sidebar}"></th:block> 

<p th:if="${error}" th:text="${error}"></p>
<p th:if="${success}" th:text="${success}"></p>

<div class="container p-4 py-4">
    <div class="dashboard-hero mb-4">
        <div class="d-flex align-items-center justify-content-between flex-wrap">
            <div>
                <h2 >Property List</h2>
                
                <p>Property and Tenant Information. To add tenant update property.</p>
			 </div>
	  
	  
			</div>
			</div>



<div class="card dashboard-card p-3 mb-3">
    <div class="d-flex justify-content-between align-items-center mb-2">
		
        <h6 class="mb-0"> <i class="fa-solid fa-credit-card"></i> Payment History</h6>
		<p class="small text-muted">Track incoming payments and automate late fees and invoices. </p>
        <span class="status-pill bg-light text-muted">Stripe / PayPal/ Manual</span>
    </div>
    <div class="table-responsive">
        <table class="table align-middle mb-0">
            <thead>
            <tr class="text-muted small">
                <th>Property</th>
				<th>Amount</th> 
                <th>Method</th>
                <th>Status</th>
                <th>Date</th>
				<!--<th>Action</th>-->
            </tr>
            </thead>
            <tbody>
            <tr th:if="${#lists.isEmpty(payments)}">
                <td colspan="4" class="text-center text-muted">No payments recorded yet.</td>
            </tr>
            <tr th:each="payment : ${payments}">
				<td th:text="${payment.property.rentalAddress}">Address</td>
                <td th:text="${payment.amountPaid}">$0.00</td>
                <td th:text="${payment.method}">STRIPE</td>
                <td>
                    <span class="status-pill bg-success-subtle text-success" th:text="${payment.status}">PAID</span>
                </td>
                <td th:text="${payment.paymentDate}">â€”</td>
				<!--<td><a th:href="@{'/landlord/payment/delete'(id=${payment.id})}">Delete</a></td>-->
            </tr>
            </tbody>
        </table>
		</div>
		</div>
		
		
		
		
		
		
		
		<div class="row justify-content-center">
		 <div class="col-12 col-sm-10 col-md-7 col-lg-5">

		  <div class="card shadow-sm border-0">
			<div class="card-body p-4">
				
         <h2 class="mb-4">Add Manual Payment</h2>
			
		<form th:action="@{/landlord/addPayment}" method="post">
		      
			 <div class="mb-3">
			<label class="form-label fw-semibold">Enter Manual Payment Information Below.</label>
			<div><small>Provide details for a payment received outside of Stripe/PayPal, such as cashapp, cash or check payments. 
				This will help you keep accurate records and track all tenant payments in one place.</small></div>
			  <br>
			 <div>
			        <label class="form-label fw-semibold"> </i>Property</label>
					<small class="text-muted">Select the property associated with this payment.</small>
			           <select name="property" class="form-select" required>
						<option value="" disabled selected>Select a property...</option>
			            <option th:each="prop : ${properties}" 
						th:value="${prop.id}" 
						th:text="${prop.rentalAddress}"></option>
			          </select>
				</div>
				
				<div class="mb-3">
				<label class="form-label fw-semibold">Amount Paid</label>
				<div><small>Enter the total amount received from the tenant for this payment.</small></div>
		        <input class="form-control" type="number" step="0.01" name="paymentAmount" placeholder="$500.00" required />
				</div>
				
				<div class="mb-3">
				<label class="form-label fw-semibold">Payment Method</label>
				<div><small>Specify how the tenant paid (e.g., cash, check, cashapp).</small></div>	
			  <input type="text" name="method" required placeholder="Enter Payment method (check, cashapp)"/>
			  </div>
			  
			  <div class="mb-3">
			  <label class="form-label fw-semibold">Payment Date</label>
			  <div><small>Provide the date when the payment was received.</small></div>
			  <input type="localDate" name="date"placeholder="Enter Payment Date"  required  />
			  </div>
			  
		      <button class="btn btn-primary" width="100" type="submit">Add Payment Manually</button>
		  </form>
		  </div>
		  </div>
         </div>
         </div>

		 <th:block th:replace="~{fragments/footer :: footer}"></th:block>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
 </body>
 </html>